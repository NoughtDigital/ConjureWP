FREEMIUS DEPLOYMENT GUIDE
=========================

This plugin is configured for Freemius deployment, which automatically generates
two versions:

1. PREMIUM VERSION (with Freemius SDK)
2. FREE VERSION (WordPress.org compatible - SDK stripped)

HOW IT WORKS
------------

Freemius automatically:
- Strips code between @freemius:premium-start and @freemius:premium-end tags
- Removes the vendor/freemius/ directory from the free version
- Creates a WordPress.org compatible free version

The free version works perfectly because:
- Conjure_Freemius::has_free_access() returns true (grants full access)
- All features remain available in the free version
- No licensing restrictions in the free version
- Graceful fallbacks when Freemius SDK is not present

DEPLOYMENT STEPS
----------------

1. Ensure all code is committed to git
2. Create a git tag for the version (e.g., v1.0.0)
3. Upload the plugin ZIP to Freemius dashboard
4. Freemius processes the upload and creates both versions
5. Set release status to "Released" when ready

AUTOMATIC DEPLOYMENT (Recommended)
-----------------------------------

Use GitHub Actions for automatic deployment:
1. Add deploy-on-freemius action to your workflow
2. Push a git tag (e.g., v1.0.1)
3. GitHub Action packages and deploys to Freemius automatically

See: https://github.com/freemius/deploy-on-freemius

WHAT GETS STRIPPED IN FREE VERSION
-----------------------------------

1. All code between @freemius:premium-start and @freemius:premium-end
2. The vendor/freemius/ directory
3. All Freemius SDK functionality

WHAT STAYS IN FREE VERSION
---------------------------

1. All core functionality (wizard, content import, widgets, customizer)
2. Plugin installer (full functionality)
3. Demo content import
4. Child theme generator
5. All helper classes (with free-version stubs)

FREE VS PREMIUM FEATURES
-------------------------

FREE VERSION:
- Full wizard functionality
- Content, widgets, customizer import
- Plugin list display (shows required/recommended plugins)
- Demo selection
- Child theme generator
- Manual plugin installation (users install from WordPress.org)
- All import features
- WP-CLI commands

PREMIUM VERSION:
- Everything in free version PLUS:
- ⭐ Automatic plugin installation (one-click, saves time)
- ⭐ Automatic plugin activation
- Priority support
- License management via Freemius
- Lifetime integration option for theme developers

CURRENT CONFIGURATION
----------------------

✅ AUTOMATIC PLUGIN INSTALLATION is now gated as premium-only.

FREE users see the plugin list but must manually install plugins.
PREMIUM users get automatic one-click installation.

This is implemented via:
- Conjure_Freemius::can_auto_install_plugins()
- Returns FALSE in free version
- Returns TRUE in premium version (with valid license)
- Code wrapped in @freemius:premium-start/end tags

TESTING
-------

Before deploying:
1. Test with Freemius SDK enabled (premium version)
2. Test WITHOUT Freemius SDK (simulate free version)
   - Temporarily rename vendor/freemius/ to vendor/freemius-disabled/
   - Clear all caches
   - Test all functionality
   - Rename back when done

WordPress.org COMPATIBILITY
----------------------------

The free version is 100% WordPress.org compatible:
✅ No external API calls (SDK stripped)
✅ No licensing code (premium code stripped)
✅ 100% GPL code (no restrictions)
✅ No "phone home" functionality
✅ All features work without external dependencies

SUPPORT
-------

For deployment issues:
- Freemius support: https://freemius.com/support/
- Plugin issues: GitHub repository

IMPORTANT NOTES
---------------

1. Never manually edit files between deployments - let Freemius handle it
2. Always test both versions before releasing
3. Keep .freemiusignore updated with files users don't need
4. Use semantic versioning (MAJOR.MINOR.PATCH)
5. Document changes in each release

RELEASE CHECKLIST
-----------------

[ ] All changes committed and pushed to git
[ ] Version number updated in conjurewp.php header
[ ] Version constant updated (CONJUREWP_VERSION)
[ ] CHANGELOG updated with release notes
[ ] Tested with Freemius SDK enabled
[ ] Tested without Freemius SDK (simulate free version)
[ ] Created git tag (e.g., v1.0.0)
[ ] Uploaded to Freemius dashboard (or auto-deployed via GitHub)
[ ] Verified both versions generated successfully
[ ] Changed release status to "Released" on Freemius
[ ] Tested free version download
[ ] Tested premium version download
[ ] Updated documentation if needed

DEPLOYMENT COMMANDS (Manual)
-----------------------------

1. Update version in conjurewp.php
2. Commit changes:
   git add .
   git commit -m "Release v1.0.0"
   
3. Create git tag:
   git tag v1.0.0
   git push origin v1.0.0
   
4. Create deployment ZIP:
   zip -r conjurewp-v1.0.0.zip . \
     -x "*.git*" \
     -x "node_modules/*" \
     -x ".DS_Store" \
     -x "*.md"
   
5. Upload ZIP to Freemius dashboard
6. Wait for Freemius to process
7. Set release status to "Released"

That's it! Freemius handles the rest.

